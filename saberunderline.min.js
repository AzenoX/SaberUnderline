class SaberUnderline{constructor(t){"object"==typeof t?this.els=t:"string"==typeof t&&(t.startsWith(".")?this.els=document.querySelectorAll(t):this.els=document.querySelector(t)),this.addResizeEvent(el)}init(){this.els instanceof Element?this.buildSabers(this.els):NodeList.prototype.isPrototypeOf(this.els)&&this.els.forEach(t=>{this.buildSabers(t)})}setWidth(t,e){if(this.els instanceof Element){let i=this.els.querySelector(".lightsaber__blade"),s=(t=t.replace("%",""))/100,l=window.getComputedStyle(i).transition.split("box-shadow ")[1].split("s")[0];i.style.transition=`transform ${e} cubic-bezier(.31,.04,.73,.97), box-shadow ${null!=l?l:0}s cubic-bezier(.31,.04,.73,.97)`,i.style.transform=`scaleX(${s})`}else NodeList.prototype.isPrototypeOf(this.els)&&this.els.forEach(i=>{let s=this.els.querySelector(".lightsaber__blade"),l=(t=t.replace("%",""))/100,a=window.getComputedStyle(s).transition.split("box-shadow ")[1].split("s")[0];s.style.transition=`transform ${e} cubic-bezier(.31,.04,.73,.97), box-shadow ${null!=a?a:0}s cubic-bezier(.31,.04,.73,.97)`,s.style.transform=`scaleX(${l})`})}setColor(t,e){if(this.els instanceof Element){let i=this.els.querySelector(".lightsaber__blade"),s=window.getComputedStyle(i).transition.split("transform ")[1].split("s")[0];i.style.transition=`transform ${null!=s?s:0}s cubic-bezier(.31,.04,.73,.97), box-shadow ${e} cubic-bezier(.31,.04,.73,.97)`;let l=window.getComputedStyle(i).boxShadow.split("px ")[2];i.style.boxShadow=`0 0 ${l}px ${l/2}px ${t}`}else NodeList.prototype.isPrototypeOf(this.els)&&this.els.forEach(i=>{let s=this.els.querySelector(".lightsaber__blade"),l=window.getComputedStyle(s).transition.split("transform ")[1].split("s")[0];s.style.transition=`transform ${null!=l?l:0}s cubic-bezier(.31,.04,.73,.97), box-shadow ${e} cubic-bezier(.31,.04,.73,.97)`;let a=window.getComputedStyle(s).boxShadow.split("px ")[2];s.style.boxShadow=`0 0 ${a}px ${a/2}px ${t}`})}buildSabers(t){let e=t.querySelector(".lightsaber");null!==e&&t.removeChild(e);let i=null!==t.getAttribute("data-height")?t.getAttribute("data-height"):"100%",s=t.getAttribute("data-hilt"),l=t.getAttribute("data-color"),a=null!==t.getAttribute("data-blade-width")?t.getAttribute("data-blade-width"):"40%",r=null!==t.getAttribute("data-blade-offset-x")?t.getAttribute("data-blade-offset-x"):"0",o=null!==t.getAttribute("data-blade-offset-y")?t.getAttribute("data-blade-offset-y"):"0",n=null!==t.getAttribute("data-animation-length")?t.getAttribute("data-animation-length"):"0.4s",d=null!==t.getAttribute("data-box-shadow-spread")?t.getAttribute("data-box-shadow-spread"):"10px",b=d.replaceAll("px","")/2;if(null!==t.getAttribute("data-preset")){let e=t.getAttribute("data-preset");"vador"===e?(l="red",s="https://i.imgur.com/EbsDhdE.png",r="-10px",o="2px"):"luke"===e?(l="green",s="https://i.imgur.com/p0c0JW0.png",r="-10px",o="2px"):"anakin"===e?(l="#1E88E5",s="https://i.imgur.com/k2kBmqX.png",r="-10px",o="4px"):"ahsoka"===e?(l="orange",s="https://i.imgur.com/8hXNaZV.png",r="-10px",o="0"):"palpatine"===e&&(l="red",s="https://i.imgur.com/CjHMXgb.png",r="-10px",o="0")}t.style.position="relative";let h=document.createElement("div");h.classList.add("lightsaber"),h.style.display="flex",h.style.alignItems="center",h.style.position="absolute",h.style.top=t.clientHeight+"px",h.style.left="0",h.style.width=t.clientWidth+"px",h.style.height=`${i}`;let p=document.createElement("div");p.classList.add("lightsaber__hilt"),p.style.width="fit-content",p.style.height="100%",p.style.zIndex="3";let u=document.createElement("img");u.src=`${s}`,u.alt="Saber Hilt",u.style.height="100%",u.style.filter="drop-shadow(0 0 1px #000)",p.appendChild(u);let c=document.createElement("div");c.classList.add("lightsaber__blade"),c.style.marginTop=`${o}`,c.style.marginLeft=`${r}`,c.style.width="0",c.style.height=`${a}`,c.style.backgroundColor="#fff",c.style.boxShadow=`0 0 ${d} ${b}px ${l}`,c.style.borderRadius="0 10px 10px 0",c.style.transform="scaleX(0)",c.style.transformOrigin="left",c.style.transition=`transform ${n} cubic-bezier(.35,.06,.24,.96), box-shadow ${n} cubic-bezier(.31,.04,.73,.97)`,c.style.zIndex="2",h.appendChild(p),h.appendChild(c),t.appendChild(h),setTimeout(function(){c.style.width="calc(100% - "+window.getComputedStyle(u).width+")"},50),t.addEventListener("mouseover",function(){if(!("false"===t.getAttribute("data-interact"))){t.querySelector(".lightsaber__blade").style.transform="scaleX(1)"}}),t.addEventListener("mouseleave",function(){if(!("false"===t.getAttribute("data-interact"))){t.querySelector(".lightsaber__blade").style.transform="scaleX(0)"}})}addResizeEvent(t){window.addEventListener("resize",function(){new SaberUnderline(t)})}}